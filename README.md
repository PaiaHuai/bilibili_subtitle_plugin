# 哔哩哔哩字幕获取插件

## 简介

这是一个用于从哔哩哔哩(Bilibili)视频中提取字幕的Dify插件。通过提供视频ID，插件可以自动获取并返回视频的字幕内容，方便用户进行内容分析、学习或其他用途。

**注意：本项目主要由大模型辅助完成，代码可能存在潜在问题或不完善之处，使用前请仔细测试并根据实际需求进行调整。**

## 功能特点

- 支持通过视频ID提取B站视频字幕
- 返回视频标题、作者等基本信息
- 支持BV号、AV号等多种格式的视频ID
- 简单易用的接口设计

## 使用前提

使用本插件需要提供B站账号的以下Cookie信息：

- SESSDATA
- BILI_JCT
- BUVID3

这些信息可以通过登录B站后，从浏览器开发者工具的Cookie中获取。

### 凭证获取方法

![凭证获取示意图](_assets/凭证获取.png)

按照上图所示步骤获取Cookie信息：
1. 登录哔哩哔哩网站
2. 打开浏览器开发者工具（F12）
3. 切换到Application/存储标签页
4. 在左侧找到Cookies部分
5. 点击bilibili.com域名
6. 找到并复制SESSDATA、BILI_JCT、BUVID3的值

**重要提醒：凭证信息会过期**

- Cookie信息（SESSDATA、BILI_JCT、BUVID3）具有时效性，通常会在一段时间后过期
- 如果插件出现认证失败或无法获取字幕的情况，请重新获取最新的Cookie信息
- 建议定期更新凭证信息以确保插件正常工作

## 使用方法

1. 在Dify平台安装本插件
2. 配置必要的Cookie信息
3. 在对话中提供B站视频ID，例如：
   ```
   请获取这个视频的字幕：BV1GJ411x7h7
   ```
4. 插件将自动提取并返回字幕内容

## 注意事项

- 只能提取已有字幕的视频，不支持自动生成字幕
- 需要有效的B站账号Cookie信息
- 视频ID必须是有效的B站视频ID
- 支持BV号、AV号等多种格式的视频ID

## 隐私说明

本插件仅用于提取公开视频的字幕内容，不会收集或存储用户的个人信息。提供的Cookie信息仅用于API访问授权，不会被用于其他用途。

## 参考项目

本项目在开发过程中参考了以下优秀的开源项目：

- [dify-plugin-Bilibili-Search](https://github.com/jingfelix/dify-plugin-Bilibili-Search) - Dify平台的B站搜索插件，提供了插件开发的参考实现
- [bilibili-api](https://github.com/Nemo2011/bilibili-api) - 功能完整的B站API调用库，提供了丰富的API接口参考

感谢这些项目的贡献者为开源社区做出的贡献。

## 许可证

本项目采用MIT许可证。



